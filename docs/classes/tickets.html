<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>tickets | Qminder</title>
	<meta name="description" content="Documentation for Qminder">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">Qminder</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">Qminder</a>
				</li>
				<li>
					<a href="tickets.html">tickets</a>
				</li>
			</ul>
			<h1>Class tickets</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<div class="lead">
						<p>TicketService includes methods that work with tickets. Tickets represent a visitor that is
						currently in the queue.</p>
					</div>
					<p>For example, to create a new ticket, use <a href="tickets.html#create">create</a>.</p>
					<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Create a new ticket in Line Id 12346</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #098658">12346</span><span style="color: #000000">, {</span>
<span style="color: #000000">   </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;Jane&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;Eyre&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">phoneNumber:</span><span style="color: #000000"> </span><span style="color: #098658">13185551234</span>
<span style="color: #000000">});</span>
</code></pre>
					<p>For example, to get a list of all visitors currently in the queue, use <a href="tickets.html#search">search</a>.</p>
					<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 2. Get a list of all visitors currently in queue in location 12345</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">visitors</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({ </span><span style="color: #001080">location:</span><span style="color: #000000"> </span><span style="color: #098658">12345</span><span style="color: #000000">, </span><span style="color: #001080">status:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;NEW&#039;</span><span style="color: #000000">] });</span>
</code></pre>
					<p>This service additionally includes methods to work with visitors, such as call them to
					service, add custom business-specific labels or mark them as served.</p>
					<p>For example, to call the next visitor in the lines 12345, 12346 and 12347, use {@link callNext}.</p>
					<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 3. Call the next visitor in lines 12345, 12346, 12347</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">visitor</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">callNext</span><span style="color: #000000">([</span><span style="color: #098658">12345</span><span style="color: #000000">, </span><span style="color: #098658">12346</span><span style="color: #000000">, </span><span style="color: #098658">12347</span><span style="color: #000000">]);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">visitor</span><span style="color: #000000">);</span>
<span style="color: #008000">// =&gt; { id: 141592145 }</span>
</code></pre>
				</div>
			</section>
			<section class="tsd-panel tsd-hierarchy">
				<h3>Hierarchy</h3>
				<ul class="tsd-hierarchy">
					<li>
						<span class="target">tickets</span>
					</li>
				</ul>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Constructors</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-constructor tsd-parent-kind-class"><a href="tickets.html#constructor" class="tsd-kind-icon">constructor</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Methods</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#addLabel" class="tsd-kind-icon">add<wbr>Label</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#assignToUser" class="tsd-kind-icon">assign<wbr>ToUser</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#call" class="tsd-kind-icon">call</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#cancel" class="tsd-kind-icon">cancel</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#count" class="tsd-kind-icon">count</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#create" class="tsd-kind-icon">create</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#details" class="tsd-kind-icon">details</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#edit" class="tsd-kind-icon">edit</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#forward" class="tsd-kind-icon">forward</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#getEstimatedTimeOfService" class="tsd-kind-icon">get<wbr>Estimated<wbr>Time<wbr>OfService</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#getMessages" class="tsd-kind-icon">get<wbr>Messages</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#markNoShow" class="tsd-kind-icon">mark<wbr>NoShow</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#markServed" class="tsd-kind-icon">mark<wbr>Served</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#recall" class="tsd-kind-icon">recall</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#removeLabel" class="tsd-kind-icon">remove<wbr>Label</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#reorder" class="tsd-kind-icon">reorder</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#returnToQueue" class="tsd-kind-icon">return<wbr>ToQueue</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#search" class="tsd-kind-icon">search</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#sendMessage" class="tsd-kind-icon">send<wbr>Message</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#setExternalData" class="tsd-kind-icon">set<wbr>External<wbr>Data</a></li>
								<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><a href="tickets.html#unassign" class="tsd-kind-icon">unassign</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Constructors</h2>
				<section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class">
					<a name="constructor" class="tsd-anchor"></a>
					<h3>constructor</h3>
					<ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class">
						<li class="tsd-signature tsd-kind-icon">new tickets<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="tickets.html" class="tsd-signature-type" data-tsd-kind="Class">tickets</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
							</aside>
							<h4 class="tsd-returns-title">Returns <a href="tickets.html" class="tsd-signature-type" data-tsd-kind="Class">tickets</a></h4>
						</li>
					</ul>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Methods</h2>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="addLabel" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> add<wbr>Label</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">add<wbr>Label<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, label<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, user<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;no action&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L835">services/ticket.service.ts:835</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Add a label to a ticket.</p>
								</div>
								<p>It adds a label to the ticket&#39;s labels list. Clerks can see the labels in the Service View,
									and can save additional details about the visitor into the label list. Labels are
								automatically colored.</p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserId</span><span style="color: #000000"> = </span><span style="color: #098658">15151</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #098658">591050</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">labelText</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;Has documents&quot;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">addLabel</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">, </span><span style="color: #001080">labelText</span><span style="color: #000000">, </span><span style="color: #001080">myUserId</span><span style="color: #000000">);</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to label. The ticket Id can be used instead of the Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>label: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The label to add, eg. &quot;Has documents&quot;</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user that is adding the label.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;no action&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>promise that resolves to &#39;success&#39; if all was OK, and &#39;no
							action&#39; if the label was already there, and rejects if something else went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="assignToUser" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> assign<wbr>ToUser</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">assign<wbr>ToUser<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, assigner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span>, assignee<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L950">services/ticket.service.ts:950</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Assign the given ticket to an user (assignee).</p>
								</div>
								<p>The user who is assigning (assigner) should be the second argument.
								The user who will take the ticket (assignee) should be the third argument.</p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Assign Ticket 11425 to User 12345, and the user performing the action is 91020.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserId</span><span style="color: #000000"> = </span><span style="color: #098658">91020</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketId</span><span style="color: #000000"> = </span><span style="color: #098658">11425</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">assigneeId</span><span style="color: #000000"> = </span><span style="color: #098658">12345</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">assignToUser</span><span style="color: #000000">(</span><span style="color: #001080">ticketId</span><span style="color: #000000">, </span><span style="color: #001080">myUserId</span><span style="color: #000000">, </span><span style="color: #001080">assigneeId</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;It worked!&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 2. Assign all tickets in Line 111 to user 15152</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tickets</span><span style="color: #000000">: </span><span style="color: #267F99">Array</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Ticket</span><span style="color: #000000">&gt; = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({ </span><span style="color: #001080">line:</span><span style="color: #000000"> </span><span style="color: #098658">111</span><span style="color: #000000">, </span><span style="color: #001080">status:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;NEW&#039;</span><span style="color: #000000">] });</span>
<span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">map</span><span style="color: #000000">((</span><span style="color: #001080">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">assign</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">, </span><span style="color: #098658">15152</span><span style="color: #000000">));</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to assign to an user. The ticket Id can be used instead of the
										Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>assigner: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user who is assigning.</p>
									</div>
								</li>
								<li>
									<h5>assignee: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user who will take the ticket.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>resolves to &#39;success&#39; on success</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="call" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> call</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">call<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, user<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, desk<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, keepActiveTicketsOpen<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L619">services/ticket.service.ts:619</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Call a specific ticket to service.</p>
								</div>
								<p>Calling a ticket will notify the visitor via all available channels, show the visitor
								details to the clerk on the Service View, and change the ticket status to &#39;CALLED&#39;.</p>
								<p>Only tickets that are waiting (their status is &#39;NEW&#39;) can be called.</p>
								<p>By default, allows only one ticket to be in the &#39;CALLED&#39; state, and marks other &#39;CALLED&#39;
								tickets as served.</p>
								<p>Multiple tickets can be called by setting <code>keepActiveTicketsOpen</code> to true.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to call. The ticket Id can be used instead of the Ticket object.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the user that is calling the ticket. This parameter is not needed if
											Qminder.setKey was called with an API key belonging to a specific User. The user Id can be
										used instead of the User object.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> desk: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the desk to call the ticket into. The desk Id can be used instead of the Desk
										object.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> keepActiveTicketsOpen: <span class="tsd-signature-type">boolean</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>if tickets are currently being served, do not mark them served
										when calling a new ticket. This allows calling multiple tickets at the same time.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>the ticket that was just called</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="cancel" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> cancel</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">cancel<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L740">services/ticket.service.ts:740</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Cancel a ticket.</p>
								</div>
								<p>Cancelling a ticket removes them from the queue, and from statistics.</p>
								<p>Only new tickets (with the status &#39;NEW&#39;) can be cancelled.</p>
								<p>The user Id is mandatory.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to cancel. The ticket Id can be used instead of the Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user who canceled the ticket. This is a mandatory argument.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to &quot;success&quot; if removing works, and rejects if something
							went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="count" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> count</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">count<span class="tsd-signature-symbol">(</span>search<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TicketCountCriteria</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L413">services/ticket.service.ts:413</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Count all tickets that match the search criteria.</p>
								</div>
								<p>Fetches a count of all tickets matching the criteria and returns the number.
								Note that this function is not limited by 10000 like TicketService.search.</p>
								<p>Calls this HTTP API: <code>POST /v1/tickets/count?(search)</code></p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">criteria</span><span style="color: #000000"> = { </span><span style="color: #001080">line:</span><span style="color: #000000"> </span><span style="color: #098658">123</span><span style="color: #000000">, </span><span style="color: #001080">status:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;NEW&#039;</span><span style="color: #000000">] };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">count</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">count</span><span style="color: #000000">(</span><span style="color: #001080">criteria</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">count</span><span style="color: #000000">); </span><span style="color: #008000">// 14</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>search: <span class="tsd-signature-type">TicketCountCriteria</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the search criteria to use</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>the number of tickets that match the search criteria</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="create" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> create</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">create<span class="tsd-signature-symbol">(</span>line<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Line.html" class="tsd-signature-type" data-tsd-kind="Interface">Line</a><span class="tsd-signature-symbol">&gt;</span>, ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;source&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;firstName&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;lastName&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;phoneNumber&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;email&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;extra&quot;</span><span class="tsd-signature-symbol">&gt;</span>, idempotencyKey<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;id&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L491">services/ticket.service.ts:491</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Creates a new ticket and puts it into the queue as the last in the given line.</p>
								</div>
								<p>Calls this HTTP API: <code>POST /v1/lines/&lt;Id&gt;/ticket</code></p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Create a ticket with first and last name, and phone number</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">lineId</span><span style="color: #000000"> = </span><span style="color: #098658">1234</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">Ticket</span><span style="color: #000000">({</span>
<span style="color: #000000">   </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Jane&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Smith&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">phoneNumber:</span><span style="color: #000000"> </span><span style="color: #098658">3185551234</span><span style="color: #000000">,</span>
<span style="color: #000000">});</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketId</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">lineId</span><span style="color: #000000">, </span><span style="color: #001080">ticket</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticketId</span><span style="color: #000000">); </span><span style="color: #008000">// 12345678</span>

<span style="color: #008000">// Example 2. Create a ticket with custom fields</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">lineId</span><span style="color: #000000"> = </span><span style="color: #098658">1234</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">Ticket</span><span style="color: #000000">({</span>
<span style="color: #000000">   </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Sarah Jane&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Smith&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">extra:</span><span style="color: #000000"> [ { </span><span style="color: #A31515">&quot;title&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Order Id&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;value&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;1234567890&quot;</span><span style="color: #000000"> } ]</span>
<span style="color: #000000">});</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketId</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">lineId</span><span style="color: #000000">, </span><span style="color: #001080">ticket</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticketId</span><span style="color: #000000">); </span><span style="color: #008000">// 12345681</span>

<span style="color: #008000">// Example 3. Create a ticket by using a Line object to specify the line</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000"> = </span><span style="color: #0000FF">new</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">Ticket</span><span style="color: #000000">({</span>
<span style="color: #000000">   </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Sarah Jane&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Smith&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">   </span><span style="color: #001080">extra:</span><span style="color: #000000"> [ { </span><span style="color: #A31515">&quot;title&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Order Id&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;value&quot;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;1234567890&quot;</span><span style="color: #000000"> } ]</span>
<span style="color: #000000">});</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">line</span><span style="color: #000000">: </span><span style="color: #267F99">Line</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">lines</span><span style="color: #000000">.</span><span style="color: #795E26">details</span><span style="color: #000000">(</span><span style="color: #098658">12345</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketId</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">line</span><span style="color: #000000">, </span><span style="color: #001080">ticket</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticketId</span><span style="color: #000000">); </span><span style="color: #008000">// 12345689</span>
</code></pre>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p>ERROR_NO_LINE_ID when the lineId parameter is undefined or not a number.</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>line: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Line.html" class="tsd-signature-type" data-tsd-kind="Interface">Line</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket&#39;s desired line</p>
									</div>
								</li>
								<li>
									<h5>ticket: <span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;source&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;firstName&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;lastName&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;phoneNumber&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;email&quot;</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">&quot;extra&quot;</span><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket data</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> idempotencyKey: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">number</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>optional: a unique identifier that lets you safely retry creating the same ticket twice</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Pick</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">&quot;id&quot;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to the Id of the new ticket.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="details" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> details</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">details<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L541">services/ticket.service.ts:541</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Fetches the details of a given ticket Id and returns a Ticket object filled with data.</p>
								</div>
								<p>Calls the following HTTP API: <code>GET /v1/tickets/&lt;Id&gt;</code></p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">details</span><span style="color: #000000">(</span><span style="color: #098658">12345</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">); </span><span style="color: #008000">// 12345</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">firstName</span><span style="color: #000000">); </span><span style="color: #008000">// Jane</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">lastName</span><span style="color: #000000">); </span><span style="color: #008000">// Eyre</span>
</code></pre>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p>ERROR_NO_TICKET_ID when the ticket Id is undefined or not a number.</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the Ticket to query, by ticket Id or Ticket object</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>the ticket&#39;s details as a Ticket object</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="edit" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> edit</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">edit<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, changes<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TicketEditingParameters</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L567">services/ticket.service.ts:567</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Edits the ticket.</p>
								</div>
								<p>To edit a ticket, pass the ticket Id to edit, and an object that only includes the keys
								that need to be changed.</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// Edit a ticket&#039;s first name</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">12345</span><span style="color: #000000">, </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;John&quot;</span><span style="color: #000000">, </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Smith&quot;</span><span style="color: #000000"> };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">changes</span><span style="color: #000000"> = { </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Jane&quot;</span><span style="color: #000000"> };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">successMessage</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">edit</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">, </span><span style="color: #001080">changes</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">successMessage</span><span style="color: #000000"> === </span><span style="color: #A31515">&quot;success&quot;</span><span style="color: #000000">); </span><span style="color: #008000">// true if it worked</span>
</code></pre>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p>ERROR_NO_TICKET_ID when the ticket Id was undefined or not a number</p>
									</dd>
									<dt>throws</dt>
									<dd><p>ERROR_NO_TICKET_CHANGES when the ticket changes were undefined</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket to edit, either the Ticket object or the ticket&#39;s Id</p>
									</div>
								</li>
								<li>
									<h5>changes: <span class="tsd-signature-type">TicketEditingParameters</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>an object only including changed properties of the ticket</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a Promise that resolves to &quot;success&quot; when editing the ticket worked</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="forward" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> forward</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">forward<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, line<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Line.html" class="tsd-signature-type" data-tsd-kind="Interface">Line</a><span class="tsd-signature-symbol">&gt;</span>, user<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1278">services/ticket.service.ts:1278</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Forward the ticket to another queue.</p>
								</div>
								<p>If a visitor&#39;s served at one step of the flow, they can be queued for a second service. This
								allows to build multi-step workflows. Only tickets with the status &#39;CALLED&#39; can be forwarded.</p>
								<p>After forwarding, a ticket&#39;s status will be &#39;NEW&#39;.
								For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Forward a ticket using ES2017 features (async and await). This code only works</span>
<span style="color: #008000">// inside an asynchronous function.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tickets</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({ </span><span style="color: #001080">status:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;CALLED&#039;</span><span style="color: #000000">], </span><span style="color: #001080">location:</span><span style="color: #000000"> </span><span style="color: #098658">3</span><span style="color: #000000">, </span><span style="color: #001080">limit:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000"> });</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #001080">length</span><span style="color: #000000"> &gt; </span><span style="color: #098658">0</span><span style="color: #000000">) {</span>
<span style="color: #000000">   </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">forward</span><span style="color: #000000">(</span><span style="color: #001080">tickets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">], </span><span style="color: #098658">15124</span><span style="color: #000000">);</span>
<span style="color: #000000">   </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Success!&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span>

<span style="color: #008000">// Example 2. Forward a ticket using regular Javascript. This doesn&#039;t use any ES6</span>
<span style="color: #008000">// features and can be deployed to a server without any pre-processing.</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({ </span><span style="color: #001080">status:</span><span style="color: #000000"> [</span><span style="color: #A31515">&#039;CALLED&#039;</span><span style="color: #000000">], </span><span style="color: #001080">location:</span><span style="color: #000000"> </span><span style="color: #098658">3</span><span style="color: #000000">, </span><span style="color: #001080">limit:</span><span style="color: #000000"> </span><span style="color: #098658">1</span><span style="color: #000000"> }).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">tickets</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #001080">length</span><span style="color: #000000"> &gt; </span><span style="color: #098658">0</span><span style="color: #000000">) {</span>
<span style="color: #000000">     </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">forward</span><span style="color: #000000">(</span><span style="color: #001080">tickets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">], </span><span style="color: #098658">15124</span><span style="color: #000000">).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">success</span><span style="color: #000000">) {</span>
<span style="color: #000000">         </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Success!&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">     }, </span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">) { </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">error</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">); });</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">});</span>
</code></pre>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p>an Error when the ticket or line are missing or invalid.</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket to forward, as ticket Id or ticket object</p>
									</div>
								</li>
								<li>
									<h5>line: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Line.html" class="tsd-signature-type" data-tsd-kind="Interface">Line</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the visitor&#39;s next line, as line Id or line object.</p>
									</div>
								</li>
								<li>
									<h5><span class="tsd-flag ts-flagOptional">Optional</span> user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the user who forwarded the ticket, as user Id or user object. Only necessary
										if forwarding on behalf of a User.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">object</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a Promise that resolves when forwarding works, and rejects when it fails.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="getEstimatedTimeOfService" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> get<wbr>Estimated<wbr>Time<wbr>OfService</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Estimated<wbr>Time<wbr>OfService<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1118">services/ticket.service.ts:1118</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Get the estimated time that this visitor will be called for service.</p>
								</div>
								<p>The time will be returned as a Unix timestamp (in seconds).</p>
								<p>Calls the HTTP API: <code>GET /v1/tickets/&lt;Id&gt;/estimated-time</code></p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// Get the ticket&#039;s estimated time of service</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">lineId</span><span style="color: #000000"> = </span><span style="color: #098658">15152</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">visitorDetails</span><span style="color: #000000"> = { </span><span style="color: #001080">firstName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Jon&quot;</span><span style="color: #000000">, </span><span style="color: #001080">lastName:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;Snow&quot;</span><span style="color: #000000"> };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">create</span><span style="color: #000000">(</span><span style="color: #001080">lineId</span><span style="color: #000000">, </span><span style="color: #001080">visitorDetails</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">eta</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">getEstimatedTimeOfService</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">eta</span><span style="color: #000000">); </span><span style="color: #008000">// 1509460809, for example.</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket to get the estimated time for. The ticket Id can be used instead
										of the Ticket object.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>the estimated Unix time the visitor will be called, eg 1509460809</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="getMessages" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> get<wbr>Messages</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">get<wbr>Messages<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">TicketMessage</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1164">services/ticket.service.ts:1164</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Get the ticket&#39;s SMS messages.
										If the location has SMS enabled, clerks can send and receive SMS messages from visitors.
									It works only if the visitor&#39;s phone number has been entered into Qminder.</p>
								</div>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Get list of messages with async/await in ES2017</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">messages</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">getMessages</span><span style="color: #000000">(</span><span style="color: #098658">12345678</span><span style="color: #000000">);</span>
<span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">messages</span><span style="color: #000000">.</span><span style="color: #001080">length</span><span style="color: #000000"> &gt; </span><span style="color: #098658">0</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">messages</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">]);</span>
<span style="color: #000000">  </span><span style="color: #008000">// { &quot;body&quot;: &quot;Hi!&quot;, &quot;type&quot;: &quot;INCOMING&quot;, ... }</span>
<span style="color: #000000">}</span>

<span style="color: #008000">// Example 2. Get list of messages with regular Javascript</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">getMessages</span><span style="color: #000000">(</span><span style="color: #098658">12345678</span><span style="color: #000000">).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">messages</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #AF00DB">if</span><span style="color: #000000"> (</span><span style="color: #001080">messages</span><span style="color: #000000">.</span><span style="color: #001080">length</span><span style="color: #000000"> &gt; </span><span style="color: #098658">0</span><span style="color: #000000">) {</span>
<span style="color: #000000">       </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">messages</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">]);</span>
<span style="color: #000000">       </span><span style="color: #008000">// { &quot;body&quot;: &quot;Hi!&quot;, &quot;type&quot;: &quot;INCOMING&quot;, ... }</span>
<span style="color: #000000">    }</span>
<span style="color: #000000">});</span>
</code></pre>
								<dl class="tsd-comment-tags">
									<dt>throws</dt>
									<dd><p>ERROR_NO_TICKET_ID  if the ticket is missing from the arguments, or invalid.</p>
									</dd>
								</dl>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to get the message list for. The ticket Id can be used instead
										of the Ticket object.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">TicketMessage</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a Promise that resolves to a list of ticket messages</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="markNoShow" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> mark<wbr>NoShow</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">mark<wbr>NoShow<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L713">services/ticket.service.ts:713</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Mark a ticket as &quot;no-show&quot;.</p>
								</div>
								<p>If a visitor did not appear for service, they should be marked &quot;no-show&quot;.</p>
								<p>Only called tickets (with the status &#39;CALLED&#39;) can be marked as &quot;no-show&quot;.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to mark no-show. The ticket Id can be used instead of the Ticket
										object.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>A promise that resolves to &quot;success&quot; when marking no-show works, and rejects when
							something went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="markServed" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> mark<wbr>Served</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">mark<wbr>Served<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L687">services/ticket.service.ts:687</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Mark a ticket served.</p>
								</div>
								<p>If a visitor has been serviced, they should be marked served immediately.</p>
								<p>Only called tickets (with the status &#39;CALLED&#39;) can be marked served.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to mark served. The ticket Id can be used instead of the Ticket
										object.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to &#39;success&#39; if all went well.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="recall" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> recall</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">recall<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L663">services/ticket.service.ts:663</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Recall a ticket.</p>
								</div>
								<p>Recalling a ticket will notify the visitor again.</p>
								<p>Only called tickets (with the status &#39;CALLED&#39;) can be recalled.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to recall. The ticket Id can be used instead of the Ticket object.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to &#39;success&#39; if all went well.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="removeLabel" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> remove<wbr>Label</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">remove<wbr>Label<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, label<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L889">services/ticket.service.ts:889</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Remove a label from the ticket.</p>
								</div>
								<p>This API call removes the label from a ticket&#39;s label list, by the label&#39;s text.</p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserId</span><span style="color: #000000"> = </span><span style="color: #098658">51000</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #098658">1234567</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">label</span><span style="color: #000000"> = </span><span style="color: #A31515">&quot;Hello&quot;</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">removeLabel</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">, </span><span style="color: #001080">label</span><span style="color: #000000">, </span><span style="color: #001080">myUserId</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;It worked!&#039;</span><span style="color: #000000">);</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to remove a label from. The ticket Id can be used instead of the
										Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>label: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The label to remove, for example, &quot;Has Cool Hair&quot;</p>
									</div>
								</li>
								<li>
									<h5>user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user who is removing the label, for example 9500</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>A promise that resolves to &quot;success&quot; when removing the label
							worked, and rejects when something went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="reorder" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> reorder</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">reorder<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, afterTicket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1070">services/ticket.service.ts:1070</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Reorder a ticket after another ticket.</p>
								</div>
								<p>Calls this HTTP API: <code>POST /v1/tickets/&lt;Id&gt;/reorder</code></p>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket1</span><span style="color: #000000"> = { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">12345</span><span style="color: #000000"> };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket2</span><span style="color: #000000"> = { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">12346</span><span style="color: #000000"> };</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket3</span><span style="color: #000000"> = { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">12347</span><span style="color: #000000"> };</span>
<span style="color: #008000">// Queue: ticket1, ticket2, ticket3</span>
<span style="color: #008000">// Ticket 3 will be put after Ticket 1</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">reorder</span><span style="color: #000000">(</span><span style="color: #001080">ticket3</span><span style="color: #000000">, </span><span style="color: #001080">ticket1</span><span style="color: #000000">);</span>
<span style="color: #008000">// Queue: ticket1, ticket3, ticket2</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to reorder. The ticket Id can be used instead
										of the Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>afterTicket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket to reorder after, or null if reordering to be first in the
										queue.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>resolves to &#39;success&#39; when it worked</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="returnToQueue" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> return<wbr>ToQueue</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">return<wbr>ToQueue<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span>, position<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">DesiredQueuePosition</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L780">services/ticket.service.ts:780</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Return a ticket to the queue.</p>
								</div>
								<p>Returning a ticket to the queue makes the ticket&#39;s status go back to &#39;NEW&#39;, Ticket
									Changed and Reordered events will fire, and the ticket will appear back in the queue.
									The ticket can be ordered to be first in queue or the last in queue, depending on
									the reason the visitor needs to go back to the queue and when they will be back for service.</p>
								<p>Only called tickets (with the status &#39;CALLED&#39;) can be returned to the queue.</p>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to return to queue. The ticket Id can be used instead of the
										Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The user that returned the ticket to the queue. The user Id can be used instead
										of the User object.</p>
									</div>
								</li>
								<li>
									<h5>position: <span class="tsd-signature-type">DesiredQueuePosition</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The position where to place the returned ticket. Either &#39;FIRST&#39; or &#39;LAST&#39;.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to &quot;success&quot; if it worked, and rejects
							if something went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="search" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> search</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">search<span class="tsd-signature-symbol">(</span>search<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">TicketSearchCriteria</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L364">services/ticket.service.ts:364</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Searches for tickets according to the given search criteria.
									Resolves to a list of tickets that match the search.</p>
								</div>
								<p>Only the first 10000 tickets are returned.</p>
								<p>The various search criteria to use are documented under {@link TicketSearchCriteria}.</p>
								<p>This method calls the following HTTP API: <code>GET /v1/tickets/search?&lt;CRITERIA&gt;</code></p>
								<p>For example:</p>
								<pre><code><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// Example 1. Search line 1234 for tickets created after July 9, 2018, ordered by IDs,</span>
<span style="color: #008000">// smallest first.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">criteria</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    </span><span style="color: #001080">line:</span><span style="color: #000000"> [ </span><span style="color: #098658">1234</span><span style="color: #000000"> ],</span>
<span style="color: #000000">    </span><span style="color: #001080">order:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;id ASC&#039;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">minCalled:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;2018-07-09T00:00:00Z&quot;</span>
<span style="color: #000000">};</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tickets</span><span style="color: #000000">: </span><span style="color: #267F99">Array</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Ticket</span><span style="color: #000000">&gt; = </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">(</span><span style="color: #001080">criteria</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000"> = </span><span style="color: #001080">tickets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">id</span><span style="color: #000000">); </span><span style="color: #008000">// 12345</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">firstName</span><span style="color: #000000">); </span><span style="color: #008000">// John</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">lastName</span><span style="color: #000000">);  </span><span style="color: #008000">// Smith</span>

<span style="color: #008000">// Example 2. Search tickets, including their SMS conversation in the response data.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">criteria</span><span style="color: #000000"> = {</span>
<span style="color: #000000">    ...,</span>
<span style="color: #000000">    </span><span style="color: #001080">responseScope:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;MESSAGES&#039;</span>
<span style="color: #000000">};</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tickets</span><span style="color: #000000">: </span><span style="color: #267F99">Array</span><span style="color: #000000">&lt;</span><span style="color: #267F99">Ticket</span><span style="color: #000000">&gt; = </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">(</span><span style="color: #001080">criteria</span><span style="color: #000000">);</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000">: </span><span style="color: #267F99">Ticket</span><span style="color: #000000"> = </span><span style="color: #001080">tickets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #008000">// NOTE: only included in the response data, if criteria.responseScope === &#039;MESSAGES&#039;</span>
<span style="color: #008000">// This data can also be loaded with Qminder.tickets.getMessages(Ticket)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">messages</span><span style="color: #000000">: </span><span style="color: #267F99">Array</span><span style="color: #000000">&lt;</span><span style="color: #267F99">TicketMessage</span><span style="color: #000000">&gt; = </span><span style="color: #001080">ticket</span><span style="color: #000000">.</span><span style="color: #001080">messages</span><span style="color: #000000">;</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">messages</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #001080">body</span><span style="color: #000000">); </span><span style="color: #008000">// &quot;It&#039;s your turn!&quot;</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>search: <span class="tsd-signature-type">TicketSearchCriteria</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the search criteria</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>A promise that resolves to matching tickets.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="sendMessage" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> send<wbr>Message</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">send<wbr>Message<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, message<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, user<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1210">services/ticket.service.ts:1210</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Send a new SMS message to a visitor.</p>
								</div>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Send the message with async/await in ES2017</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">success</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">sendMessage</span><span style="color: #000000">(</span><span style="color: #098658">12345678</span><span style="color: #000000">,</span>
<span style="color: #000000">                       </span><span style="color: #A31515">&quot;Hello! Go get some coffee now!&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">                       { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">14142</span><span style="color: #000000"> });</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;It worked!&#039;</span><span style="color: #000000">);</span>
<span style="color: #008000">// NOTE: If sending a message fails, then the async function will be rejected.</span>

<span style="color: #008000">// Example 2. Send the message with regular Javascript</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">sendMessage</span><span style="color: #000000">(</span>
<span style="color: #000000">       </span><span style="color: #098658">12345678</span><span style="color: #000000">,</span>
<span style="color: #000000">       </span><span style="color: #A31515">&quot;Hello! Free coffee time!&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">       { </span><span style="color: #001080">id:</span><span style="color: #000000"> </span><span style="color: #098658">14245</span><span style="color: #000000"> }</span>
<span style="color: #000000">).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">success</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;It works!&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">}, </span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">) {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;Something went wrong while sending the message.&quot;</span><span style="color: #000000">);</span>
<span style="color: #000000">});</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to send a message to. The user Id may also be used.</p>
									</div>
								</li>
								<li>
									<h5>message: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the message to send, as a text string, for example &quot;Welcome to our location!&quot;</p>
									</div>
								</li>
								<li>
									<h5>user: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the user who is sending the message. The user Id may also be used.</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a promise that resolves to the string &quot;success&quot; if it works, and rejects when
							something goes wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="setExternalData" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> set<wbr>External<wbr>Data</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">set<wbr>External<wbr>Data<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, provider<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, title<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, data<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1320">services/ticket.service.ts:1320</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Add external data to a ticket.</p>
								</div>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The ticket to add external data to. The ticket Id can be used instead of the Ticket object.</p>
									</div>
								</li>
								<li>
									<h5>provider: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Provider of the data. One record per provider is allowed.</p>
									</div>
								</li>
								<li>
									<h5>title: <span class="tsd-signature-type">string</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>Title for the data</p>
									</div>
								</li>
								<li>
									<h5>data: <span class="tsd-signature-type">any</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>The data to set</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>promise that resolves to &#39;success&#39; if all was OK and rejects if something else went wrong.</p>
						</li>
					</ul>
				</section>
				<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class tsd-is-static">
					<a name="unassign" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagStatic">Static</span> unassign</h3>
					<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class tsd-is-static">
						<li class="tsd-signature tsd-kind-icon">unassign<span class="tsd-signature-symbol">(</span>ticket<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span>, unassigner<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/Qminder/javascript-api/blob/5cc8a56/src/services/TicketService.ts#L1021">services/ticket.service.ts:1021</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>Un-assign a ticket. This returns the ticket to the unassigned list.
									This call works only for Tickets that have the status: &#39;NEW&#39;.</p>
								</div>
								<p>For example:</p>
								<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #0000FF">*</span><span style="color: #000000"> </span><span style="color: #AF00DB">as</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;qminder-api&#039;</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #795E26">setKey</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;API_KEY_HERE&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// Example 1. Using unassign with async/await in latest Javascript/ES6 standard</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketID</span><span style="color: #000000"> = </span><span style="color: #098658">141412345</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserID</span><span style="color: #000000"> = </span><span style="color: #098658">123</span><span style="color: #000000">;</span>
<span style="color: #AF00DB">try</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">unassign</span><span style="color: #000000">(</span><span style="color: #001080">ticketID</span><span style="color: #000000">, </span><span style="color: #001080">myUserID</span><span style="color: #000000">);</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Ticket unassign worked!&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">} </span><span style="color: #AF00DB">catch</span><span style="color: #000000"> (</span><span style="color: #001080">error</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Ticket unassign failed&#039;</span><span style="color: #000000">, </span><span style="color: #001080">error</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span>

<span style="color: #008000">// Example 2. Using unassign without async/await, with plain promises.</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticketID</span><span style="color: #000000"> = </span><span style="color: #098658">1452521</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserID</span><span style="color: #000000"> = </span><span style="color: #098658">529</span><span style="color: #000000">;</span>
<span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">unassign</span><span style="color: #000000">(</span><span style="color: #001080">ticketID</span><span style="color: #000000">, </span><span style="color: #001080">myUserID</span><span style="color: #000000">).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">success</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Ticket unassign worked!&#039;</span><span style="color: #000000">);</span>
<span style="color: #000000">}, </span><span style="color: #0000FF">function</span><span style="color: #000000">(</span><span style="color: #001080">error</span><span style="color: #000000">) {</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;Ticket unassign failed!&#039;</span><span style="color: #000000">, </span><span style="color: #001080">error</span><span style="color: #000000">);</span>
<span style="color: #000000">});</span>

<span style="color: #008000">// Example 3. Using unassign with a Ticket object and async/await in latest Javascript/ES6</span>
<span style="color: #008000">// standard</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myUserID</span><span style="color: #000000"> = </span><span style="color: #098658">42049</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">tickets</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">search</span><span style="color: #000000">({ </span><span style="color: #001080">line:</span><span style="color: #000000"> </span><span style="color: #098658">12345</span><span style="color: #000000"> });</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">ticket</span><span style="color: #000000"> = </span><span style="color: #001080">tickets</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">];</span>
<span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">Qminder</span><span style="color: #000000">.</span><span style="color: #001080">tickets</span><span style="color: #000000">.</span><span style="color: #795E26">unassign</span><span style="color: #000000">(</span><span style="color: #001080">ticket</span><span style="color: #000000">, </span><span style="color: #001080">myUserID</span><span style="color: #000000">);</span>
</code></pre>
							</div>
							<h4 class="tsd-parameters-title">Parameters</h4>
							<ul class="tsd-parameters">
								<li>
									<h5>ticket: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/Ticket.html" class="tsd-signature-type" data-tsd-kind="Interface">Ticket</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the ticket object or the ticket&#39;s Id that needs un-assignment</p>
									</div>
								</li>
								<li>
									<h5>unassigner: <span class="tsd-signature-type">IdOrObject</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/User.html" class="tsd-signature-type" data-tsd-kind="Interface">User</a><span class="tsd-signature-symbol">&gt;</span></h5>
									<div class="tsd-comment tsd-typography">
										<p>the User who un-assigned the ticket, for example current user&#39;s Id</p>
									</div>
								</li>
							</ul>
							<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;success&quot;</span><span class="tsd-signature-symbol">&gt;</span></h4>
							<p>a Promise that resolves when unassigning works and rejects when
							unassigning fails</p>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Exports</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="../enums/ConnectionStatus.html" class="tsd-kind-icon">Connection<wbr>Status</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="devices.html" class="tsd-kind-icon">devices</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="lines.html" class="tsd-kind-icon">lines</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="locations.html" class="tsd-kind-icon">locations</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-class">
						<a href="tickets.html" class="tsd-kind-icon">tickets</a>
						<ul>
							<li class=" tsd-kind-constructor tsd-parent-kind-class">
								<a href="tickets.html#constructor" class="tsd-kind-icon">constructor</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#addLabel" class="tsd-kind-icon">add<wbr>Label</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#assignToUser" class="tsd-kind-icon">assign<wbr>ToUser</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#call" class="tsd-kind-icon">call</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#cancel" class="tsd-kind-icon">cancel</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#count" class="tsd-kind-icon">count</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#create" class="tsd-kind-icon">create</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#details" class="tsd-kind-icon">details</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#edit" class="tsd-kind-icon">edit</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#forward" class="tsd-kind-icon">forward</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#getEstimatedTimeOfService" class="tsd-kind-icon">get<wbr>Estimated<wbr>Time<wbr>OfService</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#getMessages" class="tsd-kind-icon">get<wbr>Messages</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#markNoShow" class="tsd-kind-icon">mark<wbr>NoShow</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#markServed" class="tsd-kind-icon">mark<wbr>Served</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#recall" class="tsd-kind-icon">recall</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#removeLabel" class="tsd-kind-icon">remove<wbr>Label</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#reorder" class="tsd-kind-icon">reorder</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#returnToQueue" class="tsd-kind-icon">return<wbr>ToQueue</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#search" class="tsd-kind-icon">search</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#sendMessage" class="tsd-kind-icon">send<wbr>Message</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#setExternalData" class="tsd-kind-icon">set<wbr>External<wbr>Data</a>
							</li>
							<li class=" tsd-kind-method tsd-parent-kind-class tsd-is-static">
								<a href="tickets.html#unassign" class="tsd-kind-icon">unassign</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
					<li class=" tsd-kind-class">
						<a href="users.html" class="tsd-kind-icon">users</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="webhooks.html" class="tsd-kind-icon">webhooks</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Desk.html" class="tsd-kind-icon">Desk</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Device.html" class="tsd-kind-icon">Device</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Line.html" class="tsd-kind-icon">Line</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Location.html" class="tsd-kind-icon">Location</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Ticket.html" class="tsd-kind-icon">Ticket</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/User.html" class="tsd-kind-icon">User</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="../interfaces/Webhook.html" class="tsd-kind-icon">Webhook</a>
					</li>
					<li class=" tsd-kind-property">
						<a href="../modules.html#ApiBase" class="tsd-kind-icon">Api<wbr>Base</a>
					</li>
					<li class=" tsd-kind-property">
						<a href="../modules.html#graphql" class="tsd-kind-icon">graphql</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="../modules.html#setKey" class="tsd-kind-icon">set<wbr>Key</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>
